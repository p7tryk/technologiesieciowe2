#+LANGUAGE: pl
#+LATEX_HEADER: \renewcommand*{\contentsname}{Spis Treści}
#+OPTIONS: toc:2
#+TITLE: Wyszukiwanie ścieżki datagramu w internecie \\
#+TITLE: Patryk Kaniewski
#+AUTHOR: Patryk Kaniewski
#+LATEX_HEADER: \usepackage[margin=3cm]{geometry}
#+latex_header: \hypersetup{colorlinks=true,linkcolor=blue}
#+begin_src emacs-lisp :exports results :results none :eval export
  (make-variable-buffer-local 'org-latex-title-command)
  (setq org-latex-title-command (concat
"\\begin{titlepage}\n"
"\\begin{center}\n"
"{\\Huge Wyszukiwanie ścieżki datagramu w internecie \\par}\n"
"\\vspace{2cm}\n"
"{\\Large Patryk Kaniewski \\par\n}"
"\\vspace{2cm}\n"
"{\\large 2020-10-22}\n"
"\\end{center}\n"
"\\end{titlepage}\n"))
#+end_src

#+LATEX_HEADER: \usepackage{fancyhdr}
#+LATEX_HEADER: \usepackage{graphicx}
#+LATEX_HEADER: \graphicspath{ {/home/thisconnect/pwsz/} }
#+LATEX_HEADER: \pagestyle{fancyplain}
#+LATEX_HEADER: \chead{Wyszukiwanie ścieżki datagramu w internecie}
#+LATEX_HEADER: \lhead{\includegraphics{pusb.png}}
#+LATEX_HEADER: \rhead{}
#+LATEX_HEADER: \cfoot{}
#+LATEX_HEADER: \lfoot{}
#+LATEX_HEADER: \rfoot{Patryk Kaniewski \linebreak GNU GPLv3}


* Grupa wykonująca zadanie
+ Patryk Kaniewski

* Wstęp
** Cel ćwiczenia
Wyszukanie ścieżki datagramów w internecie
** Schemat ćwiczenia
[[./schemat.png]]
** Wymagany sprzęt
+ Komputer z systemem POSIX

** Plan ćwiczenia
Wybieramy cel


*** Część 1:
1. Pingujemy cel
2. 



* Ćwiczenie
** Przed ćwiczeniem
*** Konfiguracja wstępna
ip a show dev enp4s0
#+begin_src
2: enp4s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether b4:2e:99:e4:68:04 brd ff:ff:ff:ff:ff:ff
    inet 192.168.0.186/24 brd 192.168.0.255 scope global dynamic noprefixroute enp4s0
       valid_lft 32301sec preferred_lft 32301sec
#+end_src
Wybieramy cel (w moim przypadku skierniewice.eu)
** Część 1
Wykonujemy ping do wybranego przez nas celu (w moim przypadku skierniewice.eu)
#+begin_src
PING skierniewice.eu (94.152.194.219) 56(84) bytes of data.
64 bytes from 10.ires.pl (94.152.194.219): icmp_seq=1 ttl=55 time=7.35 ms
64 bytes from 10.ires.pl (94.152.194.219): icmp_seq=2 ttl=55 time=7.25 ms
64 bytes from 10.ires.pl (94.152.194.219): icmp_seq=3 ttl=55 time=7.26 ms
64 bytes from 10.ires.pl (94.152.194.219): icmp_seq=4 ttl=55 time=7.29 ms

--- skierniewice.eu ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3003ms
rtt min/avg/max/mdev = 7.249/7.285/7.345/0.038 ms
#+end_src
Następnie używamy otrzymanego adresu IP do polecenia ~traceroute -n 94.152.194.219~ (opcja -n wyłącza odwracanie adresów ip na adresy domenowe)

Rejestrujemy sesje za pomoca programu do przechwytywania pakietów np. wireshark
[[./part1/options.png]]

#+begin_src
traceroute to skierniewice.eu (94.152.194.219), 30 hops max, 60 byte packets
 1  192.168.0.1  0.227 ms  0.302 ms  0.363 ms
 2  91.214.0.129  1.521 ms  1.580 ms  1.593 ms
 3  91.214.0.1  1.595 ms  1.598 ms  1.541 ms
 4  195.43.72.106  2.128 ms  2.134 ms  2.116 ms
 5  195.182.219.60  2.583 ms  2.519 ms  2.543 ms
 6  185.80.215.238  7.068 ms  6.994 ms  7.008 ms
 7  94.152.194.219  8.233 ms !X  7.549 ms !X  7.399 ms !X
#+end_src



* Wnioski

